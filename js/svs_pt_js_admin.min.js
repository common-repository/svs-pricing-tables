(function(){var c,f,b,d,a=function(h,i){return function(){return h.apply(i,arguments)}},g=[].indexOf||function(j){for(var k=0,h=this.length;h>k;k++){if(k in this&&this[k]===j){return k}}return -1};jQuery.fn.extend({imagepicker:function(h){return null==h&&(h={}),this.each(function(){var e;return e=jQuery(this),e.data("picker")&&e.data("picker").destroy(),e.data("picker",new c(this,d(h))),null!=h.initialized?h.initialized.call(e.data("picker")):void 0})}}),d=function(h){var i;return i={hide_select:!0,show_label:!1,initialized:void 0,changed:void 0,clicked:void 0,selected:void 0,limit:void 0,limit_reached:void 0},jQuery.extend(i,h)},b=function(h,i){return 0===jQuery(h).not(i).length&&0===jQuery(i).not(h).length},c=function(){function e(h,i){this.opts=null!=i?i:{},this.sync_picker_with_select=a(this.sync_picker_with_select,this),this.select=jQuery(h),this.multiple="multiple"===this.select.attr("multiple"),null!=this.select.data("limit")&&(this.opts.limit=parseInt(this.select.data("limit"))),this.build_and_append_picker()}return e.prototype.destroy=function(){var j,l,h,k;for(k=this.picker_options,l=0,h=k.length;h>l;l++){j=k[l],j.destroy()}return this.picker.remove(),this.select.unbind("change"),this.select.removeData("picker"),this.select.show()},e.prototype.build_and_append_picker=function(){var h=this;return this.opts.hide_select&&this.select.hide(),this.select.change(function(){return h.sync_picker_with_select()}),null!=this.picker&&this.picker.remove(),this.create_picker(),this.select.after(this.picker),this.sync_picker_with_select()},e.prototype.sync_picker_with_select=function(){var k,n,j,m,h;for(m=this.picker_options,h=[],n=0,j=m.length;j>n;n++){k=m[n],k.is_selected()?h.push(k.mark_as_selected()):h.push(k.unmark_as_selected())}return h},e.prototype.create_picker=function(){return this.picker=jQuery("<ul class='thumbnails image_picker_selector'></ul>"),this.picker_options=[],this.recursively_parse_option_groups(this.select,this.picker),this.picker},e.prototype.recursively_parse_option_groups=function(B,w){var C,v,q,j,y,m,x,z,k,A;for(z=B.children("optgroup"),j=0,m=z.length;m>j;j++){q=z[j],q=jQuery(q),C=jQuery("<ul></ul>"),C.append(jQuery("<li class='group_title'>"+q.attr("label")+"</li>")),w.append(jQuery("<li>").append(C)),this.recursively_parse_option_groups(q,C)}for(k=function(){var h,l,p,o;for(p=B.children("option"),o=[],h=0,l=p.length;l>h;h++){v=p[h],o.push(new f(v,this,this.opts))}return o}.call(this),A=[],y=0,x=k.length;x>y;y++){v=k[y],this.picker_options.push(v),v.has_image()&&A.push(w.append(v.node))}return A},e.prototype.has_implicit_blanks=function(){var h;return function(){var n,k,m,j;for(m=this.picker_options,j=[],n=0,k=m.length;k>n;n++){h=m[n],h.is_blank()&&!h.has_image()&&j.push(h)}return j}.call(this).length>0},e.prototype.selected_values=function(){return this.multiple?this.select.val()||[]:[this.select.val()]},e.prototype.toggle=function(i){var k,j,h;return j=this.selected_values(),h=""+i.value(),this.multiple?g.call(this.selected_values(),h)>=0?(k=this.selected_values(),k.splice(jQuery.inArray(h,j),1),this.select.val([]),this.select.val(k)):null!=this.opts.limit&&this.selected_values().length>=this.opts.limit?null!=this.opts.limit_reached&&this.opts.limit_reached.call(this.select):this.select.val(this.selected_values().concat(h)):this.has_implicit_blanks()&&i.is_selected()?this.select.val(""):this.select.val(h),b(j,this.selected_values())||(this.select.change(),null==this.opts.changed)?void 0:this.opts.changed.call(this.select,j,this.selected_values())},e}(),f=function(){function e(j,k,h){this.picker=k,this.opts=null!=h?h:{},this.clicked=a(this.clicked,this),this.option=jQuery(j),this.create_node()}return e.prototype.destroy=function(){return this.node.find(".thumbnail").unbind()},e.prototype.has_image=function(){return null!=this.option.data("img-src")},e.prototype.is_blank=function(){return !(null!=this.value()&&""!==this.value())},e.prototype.is_selected=function(){var h;return h=this.picker.select.val(),this.picker.multiple?jQuery.inArray(this.value(),h)>=0:this.value()===h},e.prototype.mark_as_selected=function(){return this.node.find(".thumbnail").addClass("selected")},e.prototype.unmark_as_selected=function(){return this.node.find(".thumbnail").removeClass("selected")},e.prototype.value=function(){return this.option.val()},e.prototype.label=function(){return this.option.data("img-label")?this.option.data("img-label"):this.option.text()},e.prototype.clicked=function(){return this.picker.toggle(this),null!=this.opts.clicked&&this.opts.clicked.call(this.picker.select,this),null!=this.opts.selected&&this.is_selected()?this.opts.selected.call(this.picker.select,this):void 0},e.prototype.create_node=function(){var h,i;return this.node=jQuery("<li/>"),h=jQuery("<img class='image_picker_image'/>"),h.attr("src",this.option.data("img-src")),i=jQuery("<div class='thumbnail'>"),i.click({option:this},function(j){return j.data.option.clicked()}),i.append(h),this.opts.show_label&&i.append(jQuery("<p/>").html(this.label())),this.node.append(i),this.node},e}()}).call(this);"use strict";jQuery.base64=(function(f){var d="=",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="1.0";function g(l,k){var j=b.indexOf(l.charAt(k));if(j===-1){throw"Cannot decode base64"}return j}function a(m){var o=0,l,n,k=m.length,j=[];m=String(m);if(k===0){return m}if(k%4!==0){throw"Cannot decode base64"}if(m.charAt(k-1)===d){o=1;if(m.charAt(k-2)===d){o=2}k-=4}for(l=0;l<k;l+=4){n=(g(m,l)<<18)|(g(m,l+1)<<12)|(g(m,l+2)<<6)|g(m,l+3);j.push(String.fromCharCode(n>>16,(n>>8)&255,n&255))}switch(o){case 1:n=(g(m,l)<<18)|(g(m,l+1)<<12)|(g(m,l+2)<<6);j.push(String.fromCharCode(n>>16,(n>>8)&255));break;case 2:n=(g(m,l)<<18)|(g(m,l+1)<<12);j.push(String.fromCharCode(n>>16));break}return j.join("")}function e(l,k){var j=l.charCodeAt(k);if(j>255){throw"INVALID_CHARACTER_ERR: DOM Exception 5"}return j}function h(m){if(arguments.length!==1){throw"SyntaxError: exactly one argument required"}m=String(m);var l,n,j=[],k=m.length-m.length%3;if(m.length===0){return m}for(l=0;l<k;l+=3){n=(e(m,l)<<16)|(e(m,l+1)<<8)|e(m,l+2);j.push(b.charAt(n>>18));j.push(b.charAt((n>>12)&63));j.push(b.charAt((n>>6)&63));j.push(b.charAt(n&63))}switch(m.length-k){case 1:n=e(m,l)<<16;j.push(b.charAt(n>>18)+b.charAt((n>>12)&63)+d+d);break;case 2:n=(e(m,l)<<16)|(e(m,l+1)<<8);j.push(b.charAt(n>>18)+b.charAt((n>>12)&63)+b.charAt((n>>6)&63)+d);break}return j.join("")}return{decode:a,encode:h,VERSION:c}}(jQuery));(function($){$.fn.editable=function(target,options){if("disable"==target){$(this).data("disabled.editable",true);return}if("enable"==target){$(this).data("disabled.editable",false);return}if("destroy"==target){$(this).unbind($(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable");return}var settings=$.extend({},$.fn.editable.defaults,{target:target},options);var plugin=$.editable.types[settings.type].plugin||function(){};var submit=$.editable.types[settings.type].submit||function(){};var buttons=$.editable.types[settings.type].buttons||$.editable.types.defaults.buttons;var content=$.editable.types[settings.type].content||$.editable.types.defaults.content;var element=$.editable.types[settings.type].element||$.editable.types.defaults.element;var reset=$.editable.types[settings.type].reset||$.editable.types.defaults.reset;var callback=settings.callback||function(){};var onedit=settings.onedit||function(){};var onsubmit=settings.onsubmit||function(){};var onreset=settings.onreset||function(){};var onerror=settings.onerror||reset;if(settings.tooltip){$(this).attr("title",settings.tooltip)}settings.autowidth="auto"==settings.width;settings.autoheight="auto"==settings.height;return this.each(function(){var self=this;var savedwidth=$(self).width();var savedheight=$(self).height();$(this).data("event.editable",settings.event);if(!$.trim($(this).html())){$(this).html(settings.placeholder)}$(this).bind(settings.event,function(e){if(true===$(this).data("disabled.editable")){return}if(self.editing){return}if(false===onedit.apply(this,[settings,self])){return}e.preventDefault();e.stopPropagation();if(settings.tooltip){$(self).removeAttr("title")}if(0==$(self).width()){settings.width=savedwidth;settings.height=savedheight}else{if(settings.width!="none"){settings.width=settings.autowidth?$(self).width():settings.width}if(settings.height!="none"){settings.height=settings.autoheight?$(self).height():settings.height}}if($(this).html().toLowerCase().replace(/(;|")/g,"")==settings.placeholder.toLowerCase().replace(/(;|")/g,"")){$(this).html("")}self.editing=true;self.revert=$(self).html();$(self).html("");var form=$("<form />");if(settings.cssclass){if("inherit"==settings.cssclass){form.attr("class",$(self).attr("class"))}else{form.attr("class",settings.cssclass)}}if(settings.style){if("inherit"==settings.style){form.attr("style",$(self).attr("style"));form.css("display",$(self).css("display"))}else{form.attr("style",settings.style)}}var input=element.apply(form,[settings,self]);var input_content;if(settings.loadurl){var t=setTimeout(function(){input.disabled=true;content.apply(form,[settings.loadtext,settings,self])},100);var loaddata={};loaddata[settings.id]=self.id;if($.isFunction(settings.loaddata)){$.extend(loaddata,settings.loaddata.apply(self,[self.revert,settings]))}else{$.extend(loaddata,settings.loaddata)}$.ajax({type:settings.loadtype,url:settings.loadurl,data:loaddata,async:false,success:function(result){window.clearTimeout(t);input_content=result;input.disabled=false}})}else{if(settings.data){input_content=settings.data;if($.isFunction(settings.data)){input_content=settings.data.apply(self,[self.revert,settings])}}else{input_content=self.revert}}content.apply(form,[input_content,settings,self]);input.attr("name",settings.name);buttons.apply(form,[settings,self]);$(self).append(form);plugin.apply(form,[settings,self]);$(":input:visible:enabled:first",form).focus();if(settings.select){input.select()}input.keydown(function(e){if(e.keyCode==27){e.preventDefault();reset.apply(form,[settings,self])}});var t;if("cancel"==settings.onblur){input.blur(function(e){t=setTimeout(function(){reset.apply(form,[settings,self])},500)})}else{if("submit"==settings.onblur){input.blur(function(e){t=setTimeout(function(){form.submit()},200)})}else{if($.isFunction(settings.onblur)){input.blur(function(e){settings.onblur.apply(self,[input.val(),settings])})}else{input.blur(function(e){})}}}form.submit(function(e){if(t){clearTimeout(t)}e.preventDefault();if(false!==onsubmit.apply(form,[settings,self])){if(false!==submit.apply(form,[settings,self])){if($.isFunction(settings.target)){var str=settings.target.apply(self,[input.val(),settings]);$(self).html(str);self.editing=false;callback.apply(self,[self.innerHTML,settings]);if(!$.trim($(self).html())){$(self).html(settings.placeholder)}}else{var submitdata={};submitdata[settings.name]=input.val();submitdata[settings.id]=self.id;if($.isFunction(settings.submitdata)){$.extend(submitdata,settings.submitdata.apply(self,[self.revert,settings]))}else{$.extend(submitdata,settings.submitdata)}if("PUT"==settings.method){submitdata._method="put"}$(self).html(settings.indicator);var ajaxoptions={type:"POST",data:submitdata,dataType:"html",url:settings.target,success:function(result,status){if(ajaxoptions.dataType=="html"){$(self).html(result)}self.editing=false;callback.apply(self,[result,settings]);if(!$.trim($(self).html())){$(self).html(settings.placeholder)}},error:function(xhr,status,error){onerror.apply(form,[settings,self,xhr])}};$.extend(ajaxoptions,settings.ajaxoptions);$.ajax(ajaxoptions)}}}$(self).attr("title",settings.tooltip);return false})});this.reset=function(form){if(this.editing){if(false!==onreset.apply(form,[settings,self])){$(self).html(self.revert);self.editing=false;if(!$.trim($(self).html())){$(self).html(settings.placeholder)}if(settings.tooltip){$(self).attr("title",settings.tooltip)}}}}})};$.editable={types:{defaults:{element:function(settings,original){var input=$('<input type="hidden"></input>');$(this).append(input);return(input)},content:function(string,settings,original){$(":input:first",this).val(string)},reset:function(settings,original){original.reset(this)},buttons:function(settings,original){var form=this;if(settings.submit){if(settings.submit.match(/>$/)){var submit=$(settings.submit).click(function(){if(submit.attr("type")!="submit"){form.submit()}})}else{var submit=$('<button type="submit" />');submit.html(settings.submit)}$(this).append(submit)}if(settings.cancel){if(settings.cancel.match(/>$/)){var cancel=$(settings.cancel)}else{var cancel=$('<button type="cancel" />');cancel.html(settings.cancel)}$(this).append(cancel);$(cancel).click(function(event){if($.isFunction($.editable.types[settings.type].reset)){var reset=$.editable.types[settings.type].reset}else{var reset=$.editable.types.defaults.reset}reset.apply(form,[settings,original]);return false})}}},text:{element:function(settings,original){var input=$("<input />");if(settings.width!="none"){input.width(settings.width)}if(settings.height!="none"){input.height(settings.height)}input.attr("autocomplete","off");$(this).append(input);return(input)}},textarea:{element:function(settings,original){var textarea=$("<textarea />");if(settings.rows){textarea.attr("rows",settings.rows)}else{if(settings.height!="none"){textarea.height(settings.height)}}if(settings.cols){textarea.attr("cols",settings.cols)}else{if(settings.width!="none"){textarea.width(settings.width)}}$(this).append(textarea);return(textarea)}},select:{element:function(settings,original){var select=$("<select />");$(this).append(select);return(select)},content:function(data,settings,original){if(String==data.constructor){eval("var json = "+data)}else{var json=data}for(var key in json){if(!json.hasOwnProperty(key)){continue}if("selected"==key){continue}var option=$("<option />").val(key).append(json[key]);$("select",this).append(option)}$("select",this).children().each(function(){if($(this).val()==json.selected||$(this).text()==$.trim(original.revert)){$(this).attr("selected","selected")}})}}},addInputType:function(name,input){$.editable.types[name]=input}};$.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",loaddata:{},submitdata:{},ajaxoptions:{}}})(jQuery);(function(b){b.fn.mask=function(d,a){b(this).each(function(){if(a!==undefined&&a>0){var c=b(this);c.data("_mask_timeout",setTimeout(function(){b.maskElement(c,d)},a))}else{b.maskElement(b(this),d)}})};b.fn.unmask=function(){b(this).each(function(){b.unmaskElement(b(this))})};b.fn.isMasked=function(){return this.hasClass("masked")};b.maskElement=function(g,h){if(g.data("_mask_timeout")!==undefined){clearTimeout(g.data("_mask_timeout"));g.removeData("_mask_timeout")}if(g.isMasked()){b.unmaskElement(g)}if(g.css("position")=="static"){g.addClass("masked-relative")}g.addClass("masked");var f=b('<div class="loadmask"></div>');if(navigator.userAgent.toLowerCase().indexOf("msie")>-1){f.height(g.height()+parseInt(g.css("padding-top"))+parseInt(g.css("padding-bottom")));f.width(g.width()+parseInt(g.css("padding-left"))+parseInt(g.css("padding-right")))}if(navigator.userAgent.toLowerCase().indexOf("msie 6")>-1){g.find("select").addClass("masked-hidden")}g.append(f);if(h!==undefined){var a=b('<div class="loadmask-msg" style="display:none;"></div>');a.append("<div>"+h+"</div>");g.append(a);a.css("top",Math.round(g.height()/2-(a.height()-parseInt(a.css("padding-top"))-parseInt(a.css("padding-bottom")))/2)+"px");a.css("left",Math.round(g.width()/2-(a.width()-parseInt(a.css("padding-left"))-parseInt(a.css("padding-right")))/2)+"px");a.show()}};b.unmaskElement=function(a){if(a.data("_mask_timeout")!==undefined){clearTimeout(a.data("_mask_timeout"));a.removeData("_mask_timeout")}a.find(".loadmask-msg,.loadmask").remove();a.removeClass("masked");a.removeClass("masked-relative");a.find("select").removeClass("masked-hidden")}})(jQuery);(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(v){var t=[],f=v(document),s=navigator.userAgent.toLowerCase(),i=v(window),u=[],e=null,d=/msie/.test(s)&&!/opera/.test(s),c=/opera/.test(s),h,a;h=d&&/msie 6./.test(s)&&"object"!==typeof window.XMLHttpRequest;a=d&&/msie 7.0/.test(s);v.modal=function(b,g){return v.modal.impl.init(b,g)};v.modal.close=function(){v.modal.impl.close()};v.modal.focus=function(b){v.modal.impl.focus(b)};v.modal.setContainerDimensions=function(){v.modal.impl.setContainerDimensions()};v.modal.setPosition=function(){v.modal.impl.setPosition()};v.modal.update=function(b,g){v.modal.impl.update(b,g)};v.fn.modal=function(b){return v.modal.impl.init(this,b)};v.modal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1000,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null};v.modal.impl={d:{},init:function(b,g){if(this.d.data){return !1}e=d&&!v.support.boxModel;this.o=v.extend({},v.modal.defaults,g);this.zIndex=this.o.zIndex;this.occb=!1;if("object"===typeof b){if(b=b instanceof v?b:v(b),this.d.placeholder=!1,0<b.parent().parent().size()&&(b.before(v("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),this.d.placeholder=!0,this.display=b.css("display"),!this.o.persist)){this.d.orig=b.clone(!0)}}else{if("string"===typeof b||"number"===typeof b){b=v("<div></div>").html(b)}else{return alert("SimpleModal Error: Unsupported data type: "+typeof b),this}}this.create(b);this.open();v.isFunction(this.o.onShow)&&this.o.onShow.apply(this,[this.d]);return this},create:function(b){this.getDimensions();if(this.o.modal&&h){this.d.iframe=v('<iframe src="javascript:false;"></iframe>').css(v.extend(this.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:u[0],width:u[1],zIndex:this.o.zIndex,top:0,left:0})).appendTo(this.o.appendTo)}this.d.overlay=v("<div></div>").attr("id",this.o.overlayId).addClass("simplemodal-overlay").css(v.extend(this.o.overlayCss,{display:"none",opacity:this.o.opacity/100,height:this.o.modal?t[0]:0,width:this.o.modal?t[1]:0,position:"fixed",left:0,top:0,zIndex:this.o.zIndex+1})).appendTo(this.o.appendTo);this.d.container=v("<div></div>").attr("id",this.o.containerId).addClass("simplemodal-container").css(v.extend({position:this.o.fixed?"fixed":"absolute"},this.o.containerCss,{display:"none",zIndex:this.o.zIndex+2})).append(this.o.close&&this.o.closeHTML?v(this.o.closeHTML).addClass(this.o.closeClass):"").appendTo(this.o.appendTo);this.d.wrap=v("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(this.d.container);this.d.data=b.attr("id",b.attr("id")||this.o.dataId).addClass("simplemodal-data").css(v.extend(this.o.dataCss,{display:"none"})).appendTo("body");this.setContainerDimensions();this.d.data.appendTo(this.d.wrap);(h||e)&&this.fixIE()},bindEvents:function(){var b=this;v("."+b.o.closeClass).bind("click.simplemodal",function(g){g.preventDefault();b.close()});b.o.modal&&b.o.close&&b.o.overlayClose&&b.d.overlay.bind("click.simplemodal",function(g){g.preventDefault();b.close()});f.bind("keydown.simplemodal",function(g){b.o.modal&&9===g.keyCode?b.watchTab(g):b.o.close&&b.o.escClose&&27===g.keyCode&&(g.preventDefault(),b.close())});i.bind("resize.simplemodal orientationchange.simplemodal",function(){b.getDimensions();b.o.autoResize?b.setContainerDimensions():b.o.autoPosition&&b.setPosition();h||e?b.fixIE():b.o.modal&&(b.d.iframe&&b.d.iframe.css({height:u[0],width:u[1]}),b.d.overlay.css({height:t[0],width:t[1]}))})},unbindEvents:function(){v("."+this.o.closeClass).unbind("click.simplemodal");f.unbind("keydown.simplemodal");i.unbind(".simplemodal");this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var b=this.o.position;v.each([this.d.iframe||null,!this.o.modal?null:this.d.overlay,"fixed"===this.d.container.css("position")?this.d.container:null],function(g,k){if(k){var j=k[0].style;j.position="absolute";if(2>g){j.removeExpression("height"),j.removeExpression("width"),j.setExpression("height",'document.body.scrollHeight > document.body.clientHeight ? document.body.scrollHeight : document.body.clientHeight + "px"'),j.setExpression("width",'document.body.scrollWidth > document.body.clientWidth ? document.body.scrollWidth : document.body.clientWidth + "px"')}else{var m,l;b&&b.constructor===Array?(m=b[0]?"number"===typeof b[0]?b[0].toString():b[0].replace(/px/,""):k.css("top").replace(/px/,""),m=-1===m.indexOf("%")?m+' + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"':parseInt(m.replace(/%/,""))+' * ((document.documentElement.clientHeight || document.body.clientHeight) / 100) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',b[1]&&(l="number"===typeof b[1]?b[1].toString():b[1].replace(/px/,""),l=-1===l.indexOf("%")?l+' + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"':parseInt(l.replace(/%/,""))+' * ((document.documentElement.clientWidth || document.body.clientWidth) / 100) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"')):(m='(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',l='(document.documentElement.clientWidth || document.body.clientWidth) / 2 - (this.offsetWidth / 2) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"');j.removeExpression("top");j.removeExpression("left");j.setExpression("top",m);j.setExpression("left",l)}}})},focus:function(b){var g=this,b=b&&-1!==v.inArray(b,["first","last"])?b:"first",j=v(":input:enabled:visible:"+b,g.d.wrap);setTimeout(function(){0<j.length?j.focus():g.d.wrap.focus()},10)},getDimensions:function(){var b="undefined"===typeof window.innerHeight?i.height():window.innerHeight;t=[f.height(),f.width()];u=[b,i.width()]},getVal:function(j,g){return j?"number"===typeof j?j:"auto"===j?0:0<j.indexOf("%")?parseInt(j.replace(/%/,""))/100*("h"===g?u[0]:u[1]):parseInt(j.replace(/px/,"")):null},update:function(j,g){if(!this.d.data){return !1}this.d.origHeight=this.getVal(j,"h");this.d.origWidth=this.getVal(g,"w");this.d.data.hide();j&&this.d.container.css("height",j);g&&this.d.container.css("width",g);this.setContainerDimensions();this.d.data.show();this.o.focus&&this.focus();this.unbindEvents();this.bindEvents()},setContainerDimensions:function(){var j=h||a,g=this.d.origHeight?this.d.origHeight:c?this.d.container.height():this.getVal(j?this.d.container[0].currentStyle.height:this.d.container.css("height"),"h"),j=this.d.origWidth?this.d.origWidth:c?this.d.container.width():this.getVal(j?this.d.container[0].currentStyle.width:this.d.container.css("width"),"w"),m=this.d.data.outerHeight(!0),l=this.d.data.outerWidth(!0);this.d.origHeight=this.d.origHeight||g;this.d.origWidth=this.d.origWidth||j;var o=this.o.maxHeight?this.getVal(this.o.maxHeight,"h"):null,n=this.o.maxWidth?this.getVal(this.o.maxWidth,"w"):null,o=o&&o<u[0]?o:u[0],n=n&&n<u[1]?n:u[1],k=this.o.minHeight?this.getVal(this.o.minHeight,"h"):"auto",g=g?this.o.autoResize&&g>o?o:g<k?k:g:m?m>o?o:this.o.minHeight&&"auto"!==k&&m<k?k:m:k,o=this.o.minWidth?this.getVal(this.o.minWidth,"w"):"auto",j=j?this.o.autoResize&&j>n?n:j<o?o:j:l?l>n?n:this.o.minWidth&&"auto"!==o&&l<o?o:l:o;this.d.container.css({height:g,width:j});this.d.wrap.css({overflow:m>g||l>j?"auto":"visible"});this.o.autoPosition&&this.setPosition()},setPosition:function(){var j,g;j=u[0]/2-this.d.container.outerHeight(!0)/2;g=u[1]/2-this.d.container.outerWidth(!0)/2;var k="fixed"!==this.d.container.css("position")?i.scrollTop():0;this.o.position&&"[object Array]"===Object.prototype.toString.call(this.o.position)?(j=k+(this.o.position[0]||j),g=this.o.position[1]||g):j=k+j;this.d.container.css({left:g,top:j})},watchTab:function(b){if(0<v(b.target).parents(".simplemodal-container").length){if(this.inputs=v(":input:enabled:visible:first, :input:enabled:visible:last",this.d.data[0]),!b.shiftKey&&b.target===this.inputs[this.inputs.length-1]||b.shiftKey&&b.target===this.inputs[0]||0===this.inputs.length){b.preventDefault(),this.focus(b.shiftKey?"last":"first")}}else{b.preventDefault(),this.focus()}},open:function(){this.d.iframe&&this.d.iframe.show();v.isFunction(this.o.onOpen)?this.o.onOpen.apply(this,[this.d]):(this.d.overlay.show(),this.d.container.show(),this.d.data.show());this.o.focus&&this.focus();this.bindEvents()},close:function(){if(!this.d.data){return !1}this.unbindEvents();if(v.isFunction(this.o.onClose)&&!this.occb){this.occb=!0,this.o.onClose.apply(this,[this.d])}else{if(this.d.placeholder){var b=v("#simplemodal-placeholder");this.o.persist?b.replaceWith(this.d.data.removeClass("simplemodal-data").css("display",this.display)):(this.d.data.hide().remove(),b.replaceWith(this.d.orig))}else{this.d.data.hide().remove()}this.d.container.hide().remove();this.d.overlay.hide();this.d.iframe&&this.d.iframe.hide().remove();this.d.overlay.remove();this.d={}}}}});!function(a4,a3){function a2(d,c){aQ(d).push(c)}function a1(p,o,n){var m=p.children(o.headerTag),l=p.children(o.bodyTag);m.length>l.length?aj(aa,"contents"):m.length<l.length&&aj(aa,"titles");var c=o.startIndex;if(n.stepCount=m.length,o.saveState&&a4.cookie){var b=a4.cookie(ag+aO(p)),a=parseInt(b,0);!isNaN(a)&&a<n.stepCount&&(c=a)}n.currentIndex=c,m.each(function(v){var u=a4(this),t=l.eq(v),s=t.data("mode"),r=null==s?aD.html:aN(aD,/^\s*$/.test(s)||isNaN(s)?s:parseInt(s,0)),q=r===aD.html||t.data("url")===a3?"":t.data("url"),h=r!==aD.html&&"1"===t.data("loaded"),d=a4.extend({},a5,{title:u.html(),content:r===aD.html?t.html():"",contentUrl:q,contentMode:r,contentLoaded:h});a2(p,d)})}function a0(b){b.triggerHandler("canceled")}function aZ(d,c){return d.currentIndex-c}function aY(a,l){var k=aW(a);a.unbind(k).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(k),a.removeClass(l.clearFixCssClass+" vertical");var j=a.find(".content > *");j.removeData("loaded").removeData("mode").removeData("url"),j.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden"),a.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty();var i=a4('<{0} class="{1}"></{0}>'.format(a.get(0).tagName,a.attr("class"))),h=a._id();return null!=h&&""!==h&&i._id(h),i.html(a.find(".content").html()),a.after(i),a.remove(),i}function aX(e,d){var f=e.find(".steps li").eq(d.currentIndex);e.triggerHandler("finishing",[d.currentIndex])?(f.addClass("done").removeClass("error"),e.triggerHandler("finished",[d.currentIndex])):f.addClass("error")}function aW(d){var c=d.data("eventNamespace");return null==c&&(c="."+aO(d),d.data("eventNamespace",c)),c}function aV(e,d){var f=aO(e);return e.find("#"+f+af+d)}function aU(e,d){var f=aO(e);return e.find("#"+f+ae+d)}function aT(e,d){var f=aO(e);return e.find("#"+f+ad+d)}function aS(b){return b.data("options")}function aR(b){return b.data("state")}function aQ(b){return b.data("steps")}function aP(e,d){var f=aQ(e);return(0>d||d>=f.length)&&aj(ac),f[d]}function aO(d){var c=d.data("uid");return null==c&&(c=d._id(),null==c&&(c="steps-uid-".concat(ah),d._id(c)),ah++,d.data("uid",c)),c}function aN(b,h){if(ai("enumType",b),ai("keyOrValue",h),"string"==typeof h){var g=b[h];return g===a3&&aj("The enum key '{0}' does not exist.",h),g}if("number"==typeof h){for(var f in b){if(b[f]===h){return h}}aj("Invalid enum value '{0}'.",h)}else{aj("Invalid key or value type.")}}function aM(e,d,f){return aA(e,d,f,aJ(f,1))}function aL(e,d,f){return aA(e,d,f,aZ(f,1))}function aK(g,f,j,i){if((0>i||i>=j.stepCount)&&aj(ac),!(f.forceMoveForward&&i<j.currentIndex)){var h=j.currentIndex;return g.triggerHandler("stepChanging",[j.currentIndex,i])?(j.currentIndex=i,am(g,f,j),ax(g,f,j,h),ay(g,f,j),aC(g,f,j),al(g,f,j,i,h,function(){g.triggerHandler("stepChanged",[i,h])})):g.find(".steps li").eq(h).addClass("error"),!0}}function aJ(d,c){return d.currentIndex+c}function aI(a){var d=a4.extend(!0,{},aE,a);return this.each(function(){var c=a4(this),f={currentIndex:d.startIndex,currentStep:null,stepCount:0,transitionElement:null};c.data("options",d),c.data("state",f),c.data("steps",[]),a1(c,d,f),ar(c,d,f),av(c,d),d.autoFocus&&0===ah&&aV(c,d.startIndex).focus(),c.triggerHandler("init",[d.startIndex])})}function aH(a,p,o,n,m){(0>n||n>o.stepCount)&&aj(ac),m=a4.extend({},a5,m),aG(a,n,m),o.currentIndex!==o.stepCount&&o.currentIndex>=n&&(o.currentIndex++,am(a,p,o)),o.stepCount++;var l=a.find(".content"),k=a4("<{0}>{1}</{0}>".format(p.headerTag,m.title)),j=a4("<{0}></{0}>".format(p.bodyTag));return(null==m.contentMode||m.contentMode===aD.html)&&j.html(m.content),0===n?l.prepend(j).prepend(k):aU(a,n-1).after(j).after(k),aq(a,o,j,n),an(a,p,o,k,n),aw(a,p,o,n),n===o.currentIndex&&ax(a,p,o),ay(a,p,o),a}function aG(e,d,f){aQ(e).splice(d,0,f)}function aF(a){var j=a4(this),i=aS(j),h=aR(j);if(i.suppressPaginationOnFocus&&j.find(":focus").is(":input")){return a.preventDefault(),!1}var g={left:37,right:39};a.keyCode===g.left?(a.preventDefault(),aL(j,i,h)):a.keyCode===g.right&&(a.preventDefault(),aM(j,i,h))}function aC(a,l,k){if(k.stepCount>0){var j=k.currentIndex,i=aP(a,j);if(!l.enableContentCache||!i.contentLoaded){switch(aN(aD,i.contentMode)){case aD.iframe:a.find(".content > .body").eq(k.currentIndex).empty().html('<iframe src="'+i.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case aD.async:var h=aU(a,j)._aria("busy","true").empty().append(ao(l.loadingTemplate,{text:l.labels.loading}));a4.ajax({url:i.contentUrl,cache:!1}).done(function(b){h.empty().html(b)._aria("busy","false").data("loaded","1"),a.triggerHandler("contentLoaded",[j])})}}}}function aA(j,i,p,o){var n=p.currentIndex;if(o>=0&&o<p.stepCount&&!(i.forceMoveForward&&o<p.currentIndex)){var m=aV(j,o),l=m.parent(),k=l.hasClass("disabled");return l._enableAria(),m.click(),n===p.currentIndex&&k?(l._enableAria(!1),!1):!0}return !1}function az(a){a.preventDefault();var l=a4(this),k=l.parent().parent().parent().parent(),j=aS(k),h=aR(k),e=l.attr("href");switch(e.substring(e.lastIndexOf("#")+1)){case"cancel":a0(k);break;case"finish":aX(k,h);break;case"next":aM(k,j,h);break;case"previous":aL(k,j,h)}}function ay(h,g,l){if(g.enablePagination){var k=h.find(".actions a[href$='#finish']").parent(),j=h.find(".actions a[href$='#next']").parent();if(!g.forceMoveForward){var i=h.find(".actions a[href$='#previous']").parent();i._enableAria(l.currentIndex>0)}g.enableFinishButton&&g.showFinishButtonAlways?(k._enableAria(l.stepCount>0),j._enableAria(l.stepCount>1&&l.stepCount>l.currentIndex+1)):(k._showAria(g.enableFinishButton&&l.stepCount===l.currentIndex+1),j._showAria(0===l.stepCount||l.stepCount>l.currentIndex+1)._enableAria(l.stepCount>l.currentIndex+1||!g.enableFinishButton))}}function ax(a,p,o,n){var m=aV(a,o.currentIndex),l=a4('<span class="current-info audible">'+p.labels.current+" </span>"),k=a.find(".content > .title");if(null!=n){var j=aV(a,n);j.parent().addClass("done").removeClass("error")._selectAria(!1),k.eq(n).removeClass("current").next(".body").removeClass("current"),l=j.find(".current-info"),m.focus()}m.prepend(l).parent()._selectAria().removeClass("done")._enableAria(),k.eq(o.currentIndex).addClass("current").next(".body").addClass("current")}function aw(t,s,r,q){for(var p=aO(t),o=q;o<r.stepCount;o++){var n=p+af+o,m=p+ae+o,l=p+ad+o,k=t.find(".title").eq(o)._id(l);t.find(".steps a").eq(o)._id(n)._aria("controls",m).attr("href","#"+l).html(ao(s.titleTemplate,{index:o+1,title:k.html()})),t.find(".body").eq(o)._id(m)._aria("labelledby",l)}}function av(e,d){var f=aW(e);e.bind("canceled"+f,d.onCanceled),e.bind("contentLoaded"+f,d.onContentLoaded),e.bind("finishing"+f,d.onFinishing),e.bind("finished"+f,d.onFinished),e.bind("init"+f,d.onInit),e.bind("stepChanging"+f,d.onStepChanging),e.bind("stepChanged"+f,d.onStepChanged),d.enableKeyNavigation&&e.bind("keyup"+f,aF),e.find(".actions a").bind("click"+f,az)}function au(f,e,h,g){return 0>g||g>=h.stepCount||h.currentIndex===g?!1:(at(f,g),h.currentIndex>g&&(h.currentIndex--,am(f,e,h)),h.stepCount--,aT(f,g).remove(),aU(f,g).remove(),aV(f,g).parent().remove(),0===g&&f.find(".steps li").first().addClass("first"),g===h.stepCount&&f.find(".steps li").eq(g).addClass("last"),aw(f,e,h,g),ay(f,e,h),!0)}function at(d,c){aQ(d).splice(c,1)}function ar(t,s,r){var q='<{0} class="{1}">{2}</{0}>',p=aN(a6,s.stepsOrientation),o=p===a6.vertical?" vertical":"",n=a4(q.format(s.contentContainerTag,"content "+s.clearFixCssClass,t.html())),m=a4(q.format(s.stepsContainerTag,"steps "+s.clearFixCssClass,'<ul role="tablist"></ul>')),l=n.children(s.headerTag),a=n.children(s.bodyTag);t.attr("role","application").empty().append(m).append(n).addClass(s.cssClass+" "+s.clearFixCssClass+o),a.each(function(b){aq(t,r,a4(this),b)}),l.each(function(b){an(t,s,r,a4(this),b)}),ax(t,s,r),ap(t,s,r)}function aq(i,h,n,m){var l=aO(i),k=l+ae+m,j=l+ad+m;n._id(k).attr("role","tabpanel")._aria("labelledby",j).addClass("body")._showAria(h.currentIndex===m)}function ap(h,g,l){if(g.enablePagination){var k='<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>',j='<li><a href="#{0}" role="menuitem">{1}</a></li>',i="";g.forceMoveForward||(i+=j.format("previous",g.labels.previous)),i+=j.format("next",g.labels.next),g.enableFinishButton&&(i+=j.format("finish",g.labels.finish)),g.enableCancelButton&&(i+=j.format("cancel",g.labels.cancel)),h.append(k.format(g.actionContainerTag,g.clearFixCssClass,g.labels.pagination,i)),ay(h,g,l),aC(h,g,l)}}function ao(b,l){for(var k=b.match(/#([a-z]*)#/gi),j=0;j<k.length;j++){var i=k[j],h=i.substring(1,i.length-1);l[h]===a3&&aj("The key '{0}' does not exist in the substitute collection!",h),b=b.replace(i,l[h])}return b}function an(x,w,v,u,t){var s=aO(x),r=s+af+t,q=s+ae+t,p=s+ad+t,o=x.find(".steps > ul"),i=ao(w.titleTemplate,{index:t+1,title:u.html()}),a=a4('<li role="tab"><a id="'+r+'" href="#'+p+'" aria-controls="'+q+'">'+i+"</a></li>");a._enableAria(w.enableAllSteps||v.currentIndex>t),v.currentIndex>t&&a.addClass("done"),u._id(p).attr("tabindex","-1").addClass("title"),0===t?o.prepend(a):o.find("li").eq(t-1).after(a),0===t&&o.find("li").removeClass("first").eq(t).addClass("first"),t===v.stepCount-1&&o.find("li").removeClass("last").eq(t).addClass("last"),a.children("a").bind("click"+aW(x),ak)}function am(a,f,e){f.saveState&&a4.cookie&&a4.cookie(ag+aO(a),e.currentIndex)}function al(E,D,C,B,A,z){var y=E.find(".content > .body"),x=aN(aB,D.transitionEffect),w=D.transitionEffectSpeed,v=y.eq(B),u=y.eq(A);switch(x){case aB.fade:case aB.slide:var t=x===aB.fade?"fadeOut":"slideUp",r=x===aB.fade?"fadeIn":"slideDown";C.transitionElement=v,u[t](w,function(){var d=a4(this)._showAria(!1).parent().parent(),e=aR(d);e.transitionElement&&(e.transitionElement[r](w,function(){a4(this)._showAria()}).promise().done(z),e.transitionElement=null)});break;case aB.slideLeft:var n=u.outerWidth(!0),a=B>A?-n:n,F=B>A?n:-n;a4.when(u.animate({left:a},w,function(){a4(this)._showAria(!1)}),v.css("left",F+"px")._showAria().animate({left:0},w)).done(z);break;default:a4.when(u._showAria(!1),v._showAria()).done(z)}}function ak(a){a.preventDefault();var p=a4(this),o=p.parent().parent().parent().parent(),n=aS(o),m=aR(o),l=m.currentIndex;if(p.parent().is(":not(.disabled):not(.current)")){var k=p.attr("href"),j=parseInt(k.substring(k.lastIndexOf("-")+1),0);aK(o,n,m,j)}return l===m.currentIndex?(aV(o,l).focus(),!1):void 0}function aj(b){throw arguments.length>1&&(b=b.format(Array.prototype.slice.call(arguments,1))),new Error(b)}function ai(d,c){null==c&&aj("The argument '{0}' is null or undefined.",d)}a4.fn.extend({_aria:function(d,c){return this.attr("aria-"+d,c)},_removeAria:function(b){return this.removeAttr("aria-"+b)},_enableAria:function(b){return null==b||b?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(b){return null==b||b?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(b){return null==b||b?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(b){return b?this.attr("id",b):this.attr("id")}}),String.prototype.format||(String.prototype.format=function(){for(var a=1===arguments.length&&a4.isArray(arguments[0])?arguments[0]:arguments,h=this,g=0;g<a.length;g++){var f=new RegExp("\\{"+g+"\\}","gm");h=h.replace(f,a[g])}return h});var ah=0,ag="jQu3ry_5teps_St@te_",af="-t-",ae="-p-",ad="-h-",ac="Index out of range.",aa="One or more corresponding step {0} are missing.";a4.fn.steps=function(a){return a4.fn.steps[a]?a4.fn.steps[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void a4.error("Method "+a+" does not exist on jQuery.steps"):aI.apply(this,arguments)},a4.fn.steps.add=function(d){var c=aR(this);return aH(this,aS(this),c,c.stepCount,d)},a4.fn.steps.destroy=function(){return aY(this,aS(this))},a4.fn.steps.finish=function(){aX(this,aR(this))},a4.fn.steps.getCurrentIndex=function(){return aR(this).currentIndex},a4.fn.steps.getCurrentStep=function(){return aP(this,aR(this).currentIndex)},a4.fn.steps.getStep=function(b){return aP(this,b)},a4.fn.steps.insert=function(d,c){return aH(this,aS(this),aR(this),d,c)},a4.fn.steps.next=function(){return aM(this,aS(this),aR(this))},a4.fn.steps.previous=function(){return aL(this,aS(this),aR(this))},a4.fn.steps.remove=function(b){return au(this,aS(this),aR(this),b)},a4.fn.steps.setStep=function(){throw new Error("Not yet implemented!")},a4.fn.steps.skip=function(){throw new Error("Not yet implemented!")};var aD=a4.fn.steps.contentMode={html:0,iframe:1,async:2},a6=a4.fn.steps.stepsOrientation={horizontal:0,vertical:1},aB=a4.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},a5=a4.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:aD.html,contentLoaded:!1},aE=a4.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:a6.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableCancelButton:!1,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:aB.none,transitionEffectSpeed:200,onStepChanging:function(){return !0},onStepChanged:function(){},onCanceled:function(){},onFinishing:function(){return !0},onFinished:function(){},onContentLoaded:function(){},onInit:function(){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}}}(jQuery);!function(c,f,a,e){var i={drag:true,drop:true,exclude:"",nested:true,vertical:true},o={afterMove:function(t,d,u){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",bodyClass:"dragging",draggedClass:"dragged",isValidTarget:function(t,d){return true},onCancel:function(t,d,v,u){},onDrag:function(t,d,v,u){t.css(d)},onDragStart:function(t,d,v,u){t.css({height:t.outerHeight(),width:t.outerWidth()});t.addClass(d.group.options.draggedClass);c("body").addClass(d.group.options.bodyClass)},onDrop:function(t,d,v,u){t.removeClass(d.group.options.draggedClass).removeAttr("style");c("body").removeClass(d.group.options.bodyClass)},onMousedown:function(d,u,t){if(!t.target.nodeName.match(/^(input|select|textarea)$/i)){t.preventDefault();return true}},placeholderClass:"placeholder",placeholder:'<li class="placeholder"></li>',pullPlaceholder:true,serialize:function(v,u,t){var d=c.extend({},v.data());if(t){return[u]}else{if(u[0]){d.children=u}}delete d.subContainers;delete d.sortable;return d},tolerance:0},q={},l=0,h={left:0,top:0,bottom:0,right:0},g={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},s="subContainers";function r(u,t){var d=Math.max(0,u[0]-t[0],t[0]-u[1]),v=Math.max(0,u[2]-t[1],t[1]-u[3]);return d+v}function n(z,x,t,v){var u=z.length,d=v?"offset":"position";t=t||0;while(u--){var w=z[u].el?z[u].el:c(z[u]),y=w[d]();y.left+=parseInt(w.css("margin-left"),10);y.top+=parseInt(w.css("margin-top"),10);x[u]=[y.left-t,y.left+w.outerWidth()+t,y.top-t,y.top+w.outerHeight()+t]}}function b(u,d){var t=d.offset();return{left:u.left-t.left,top:u.top-t.top}}function p(v,x,u){x=[x.left,x.top];u=u&&[u.left,u.top];var w,t=v.length,d=[];while(t--){w=v[t];d[t]=[t,r(w,x),u&&r(w,u)]}d=d.sort(function(z,y){return y[1]-z[1]||y[2]-z[2]||y[0]-z[0]});return d}function m(d){this.options=c.extend({},o,d);this.containers=[];if(!this.options.rootGroup){this.scrollProxy=c.proxy(this.scroll,this);this.dragProxy=c.proxy(this.drag,this);this.dropProxy=c.proxy(this.drop,this);this.placeholder=c(this.options.placeholder);if(!d.isValidTarget){this.options.isValidTarget=e}}}m.get=function(d){if(!q[d.group]){if(d.group===e){d.group=l++}q[d.group]=new m(d)}return q[d.group]};m.prototype={dragInit:function(u,t){this.$document=c(t.el[0].ownerDocument);var d=c(u.target).closest(this.options.itemSelector);if(d.length){this.item=d;this.itemContainer=t;if(this.item.is(this.options.exclude)||!this.options.onMousedown(this.item,o.onMousedown,u)){return}this.setPointer(u);this.toggleListeners("on");this.setupDelayTimer();this.dragInitDone=true}},drag:function(w){if(!this.dragging){if(!this.distanceMet(w)||!this.delayMet){return}this.options.onDragStart(this.item,this.itemContainer,o.onDragStart,w);this.item.before(this.placeholder);this.dragging=true}this.setPointer(w);this.options.onDrag(this.item,b(this.pointer,this.item.offsetParent()),o.onDrag,w);var v=this.getPointer(w),u=this.sameResultBox,d=this.options.tolerance;if(!u||u.top-d>v.top||u.bottom+d<v.top||u.left-d>v.left||u.right+d<v.left){if(!this.searchValidTarget()){this.placeholder.detach();this.lastAppendedItem=e}}},drop:function(d){this.toggleListeners("off");this.dragInitDone=false;if(this.dragging){if(this.placeholder.closest("html")[0]){this.placeholder.before(this.item).detach()}else{this.options.onCancel(this.item,this.itemContainer,o.onCancel,d)}this.options.onDrop(this.item,this.getContainer(this.item),o.onDrop,d);this.clearDimensions();this.clearOffsetParent();this.lastAppendedItem=this.sameResultBox=e;this.dragging=false}},searchValidTarget:function(y,w){if(!y){y=this.relativePointer||this.pointer;w=this.lastRelativePointer||this.lastPointer}var t=p(this.getContainerDimensions(),y,w),v=t.length;while(v--){var u=t[v][0],z=t[v][1];if(!z||this.options.pullPlaceholder){var d=this.containers[u];if(!d.disabled){if(!this.$getOffsetParent()){var x=d.getItemOffsetParent();y=b(y,x);w=b(w,x)}if(d.searchValidTarget(y,w)){return true}}}}if(this.sameResultBox){this.sameResultBox=e}},movePlaceholder:function(t,u,w,d){var v=this.lastAppendedItem;if(!d&&v&&v[0]===u[0]){return}u[w](this.placeholder);this.lastAppendedItem=u;this.sameResultBox=d;this.options.afterMove(this.placeholder,t,u)},getContainerDimensions:function(){if(!this.containerDimensions){n(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent())}return this.containerDimensions},getContainer:function(d){return d.closest(this.options.containerSelector).data(a)},$getOffsetParent:function(){if(this.offsetParent===e){var d=this.containers.length-1,t=this.containers[d].getItemOffsetParent();if(!this.options.rootGroup){while(d--){if(t[0]!=this.containers[d].getItemOffsetParent()[0]){t=false;break}}}this.offsetParent=t}return this.offsetParent},setPointer:function(t){var u=this.getPointer(t);if(this.$getOffsetParent()){var d=b(u,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer;this.relativePointer=d}this.lastPointer=this.pointer;this.pointer=u},distanceMet:function(d){var t=this.getPointer(d);return(Math.max(Math.abs(this.pointer.left-t.left),Math.abs(this.pointer.top-t.top))>=this.options.distance)},getPointer:function(d){var t=d.originalEvent||d.originalEvent.touches&&d.originalEvent.touches[0];return{left:d.pageX||t.pageX,top:d.pageY||t.pageY}},setupDelayTimer:function(){var d=this;this.delayMet=!this.options.delay;if(!this.delayMet){clearTimeout(this._mouseDelayTimer);this._mouseDelayTimer=setTimeout(function(){d.delayMet=true},this.options.delay)}},scroll:function(d){this.clearDimensions();this.clearOffsetParent()},toggleListeners:function(u){var t=this,d=["drag","drop","scroll"];c.each(d,function(v,w){t.$document[u](g[w],t[w+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=e},clearDimensions:function(){this.traverse(function(d){d._clearDimensions()})},traverse:function(t){t(this);var d=this.containers.length;while(d--){this.containers[d].traverse(t)}},_clearDimensions:function(){this.containerDimensions=e},_destroy:function(){q[this.options.group]=e}};function j(u,t){this.el=u;this.options=c.extend({},i,t);this.group=m.get(this.options);this.rootGroup=this.options.rootGroup||this.group;this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var d=this.rootGroup.options.itemPath;this.target=d?this.el.find(d):this.el;this.target.on(g.start,this.handle,c.proxy(this.dragInit,this));if(this.options.drop){this.group.containers.push(this)}}j.prototype={dragInit:function(t){var d=this.rootGroup;if(!this.disabled&&!d.dragInitDone&&this.options.drag&&this.isValidDrag(t)){d.dragInit(t,this)}},isValidDrag:function(d){return d.which==1||d.type=="touchstart"&&d.originalEvent.touches.length==1},searchValidTarget:function(d,u){var x=p(this.getItemDimensions(),d,u),v=x.length,y=this.rootGroup,z=!y.options.isValidTarget||y.options.isValidTarget(y.item,this);if(!v&&z){y.movePlaceholder(this,this.target,"append");return true}else{while(v--){var w=x[v][0],t=x[v][1];if(!t&&this.hasChildGroup(w)){var A=this.getContainerGroup(w).searchValidTarget(d,u);if(A){return true}}else{if(z){this.movePlaceholder(w,d);return true}}}}},movePlaceholder:function(A,t){var E=c(this.items[A]),z=this.itemDimensions[A],d="after",u=E.outerWidth(),D=E.outerHeight(),y=E.offset(),v={left:y.left,right:y.left+u,top:y.top,bottom:y.top+D};if(this.options.vertical){var C=(z[2]+z[3])/2,B=t.top<=C;if(B){d="before";v.bottom-=D/2}else{v.top+=D/2}}else{var w=(z[0]+z[1])/2,x=t.left<=w;if(x){d="before";v.right-=u/2}else{v.left+=u/2}}if(this.hasChildGroup(A)){v=h}this.rootGroup.movePlaceholder(this,E,d,v)},getItemDimensions:function(){if(!this.itemDimensions){this.items=this.$getChildren(this.el,"item").filter(":not(."+this.group.options.placeholderClass+", ."+this.group.options.draggedClass+")").get();n(this.items,this.itemDimensions=[],this.options.tolerance)}return this.itemDimensions},getItemOffsetParent:function(){var t,d=this.el;if(d.css("position")==="relative"||d.css("position")==="absolute"||d.css("position")==="fixed"){t=d}else{t=d.offsetParent()}return t},hasChildGroup:function(d){return this.options.nested&&this.getContainerGroup(d)},getContainerGroup:function(u){var v=c.data(this.items[u],s);if(v===e){var t=this.$getChildren(this.items[u],"container");v=false;if(t[0]){var d=c.extend({},this.options,{rootGroup:this.rootGroup,group:l++});v=t[a](d).data(a).group}c.data(this.items[u],s,v)}return v},$getChildren:function(v,u){var t=this.rootGroup.options,w=t[u+"Path"],d=t[u+"Selector"];v=c(v);if(w){v=v.find(w)}return v.children(d)},_serialize:function(v,u){var w=this,d=u?"item":"container",t=this.$getChildren(v,d).not(this.options.exclude).map(function(){return w._serialize(c(this),!u)}).get();return this.rootGroup.options.serialize(v,t,u)},traverse:function(d){c.each(this.items||[],function(t){var u=c.data(this,s);if(u){u.traverse(d)}});d(this)},_clearDimensions:function(){this.itemDimensions=e},_destroy:function(){var d=this;this.target.off(g.start,this.handle);this.el.removeData(a);if(this.options.drop){this.group.containers=c.grep(this.group.containers,function(t){return t!=d})}c.each(this.items||[],function(){c.removeData(this,s)})}};var k={enable:function(){this.traverse(function(d){d.disabled=false})},disable:function(){this.traverse(function(d){d.disabled=true})},serialize:function(){return this._serialize(this.el,true)},refresh:function(){this.traverse(function(d){d._clearDimensions()})},destroy:function(){this.traverse(function(d){d._destroy()})}};c.extend(j.prototype,k);c.fn[a]=function(d){var t=Array.prototype.slice.call(arguments,1);return this.map(function(){var v=c(this),u=v.data(a);if(u&&k[d]){return k[d].apply(u,t)||this}else{if(!u&&(d===e||typeof d==="object")){v.data(a,new j(v,d))}}return this})}}(jQuery,window,"sortable");(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports=="object"&&typeof module=="object"){module.exports=a}else{a(jQuery)}}})(function(e,g){var m={beforeShow:b,move:b,change:b,show:b,hide:b,color:false,flat:false,showInput:false,allowEmpty:false,showButtons:true,clickoutFiresChange:true,showInitial:false,showPalette:false,showPaletteOnly:false,hideAfterPaletteSelect:false,togglePaletteOnly:false,showSelectionPalette:true,localStorageKey:false,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:false,className:"",containerClassName:"",replacerClassName:"",showAlpha:false,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:false,offset:null},d=[],h=!!/msie/i.exec(window.navigator.userAgent),l=(function(){function u(y,x){return !!~(""+y).indexOf(x)}var w=document.createElement("div");var v=w.style;v.cssText="background-color:rgba(0,0,0,.5)";return u(v.backgroundColor,"rgba")||u(v.backgroundColor,"hsla")})(),q=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),p=(function(){var u="";if(h){for(var v=1;v<=6;v++){u+="<div class='sp-"+v+"'></div>"}}return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",u,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")})();function s(w,y,C,u){var A=[];for(var z=0;z<w.length;z++){var B=w[z];if(B){var v=tinycolor(B);var E=v.toHsl().l<0.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";E+=(tinycolor.equals(y,B))?" sp-thumb-active":"";var D=v.toString(u.preferredFormat||"rgb");var x=l?("background-color:"+v.toRgbString()):"filter:"+v.toFilter();A.push('<span title="'+D+'" data-color="'+v.toRgbString()+'" class="'+E+'"><span class="sp-thumb-inner" style="'+x+';" /></span>')}else{var F="sp-clear-display";A.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="'+F+'"></span>').attr("title",u.noColorSelectedText)).html())}}return"<div class='sp-cf "+C+"'>"+A.join("")+"</div>"}function o(){for(var u=0;u<d.length;u++){if(d[u]){d[u].hide()}}}function n(w,u){var v=e.extend({},m,w);v.callbacks={move:t(v.move,u),change:t(v.change,u),show:t(v.show,u),hide:t(v.hide,u),beforeShow:t(v.beforeShow,u)};return v}function r(a8,ah){var a7=n(ah,a8),a3=a7.flat,W=a7.showSelectionPalette,w=a7.localStorageKey,ak=a7.theme,R=a7.callbacks,E=f(ad,10),O=false,ap=false,aM=0,af=0,aN=0,az=0,L=0,ay=0,aY=0,ar=0,Y=0,P=0,aC=0,aZ=1,ai=[],al=[],a5={},aI=a7.selectionPalette.slice(0),aH=a7.maxSelectionSize,x="sp-dragging",G=null;var X=a8.ownerDocument,N=X.body,D=e(a8),aW=false,aO=e(p,X).addClass(ak),u=aO.find(".sp-picker-container"),I=aO.find(".sp-color"),aL=aO.find(".sp-dragger"),M=aO.find(".sp-hue"),a2=aO.find(".sp-slider"),aE=aO.find(".sp-alpha-inner"),Z=aO.find(".sp-alpha"),aF=aO.find(".sp-alpha-handle"),K=aO.find(".sp-input"),Q=aO.find(".sp-palette"),a6=aO.find(".sp-initial"),aq=aO.find(".sp-cancel"),an=aO.find(".sp-clear"),H=aO.find(".sp-choose"),aQ=aO.find(".sp-palette-toggle"),S=D.is("input"),B=S&&D.attr("type")==="color"&&k(),aB=S&&!a3,aU=(aB)?e(q).addClass(ak).addClass(a7.className).addClass(a7.replacerClassName):e([]),aw=(aB)?aU:D,J=aU.find(".sp-preview-inner"),T=a7.color||(S&&D.val()),aP=false,V=a7.preferredFormat,au=V,F=!a7.showButtons||a7.clickoutFiresChange,C=!T,a4=a7.allowEmpty&&!B;function v(){if(a7.showPaletteOnly){a7.showPalette=true}aQ.text(a7.showPaletteOnly?a7.togglePaletteMoreText:a7.togglePaletteLessText);if(a7.palette){ai=a7.palette.slice(0);al=e.isArray(ai[0])?ai:[ai];a5={};for(var bc=0;bc<al.length;bc++){for(var bb=0;bb<al[bc].length;bb++){var ba=tinycolor(al[bc][bb]).toRgbString();a5[ba]=true}}}aO.toggleClass("sp-flat",a3);aO.toggleClass("sp-input-disabled",!a7.showInput);aO.toggleClass("sp-alpha-enabled",a7.showAlpha);aO.toggleClass("sp-clear-enabled",a4);aO.toggleClass("sp-buttons-disabled",!a7.showButtons);aO.toggleClass("sp-palette-buttons-disabled",!a7.togglePaletteOnly);aO.toggleClass("sp-palette-disabled",!a7.showPalette);aO.toggleClass("sp-palette-only",a7.showPaletteOnly);aO.toggleClass("sp-initial-disabled",!a7.showInitial);aO.addClass(a7.className).addClass(a7.containerClassName);ad()}function aJ(){if(h){aO.find("*:not(input)").attr("unselectable","on")}v();if(aB){D.after(aU).hide()}if(!a4){an.hide()}if(a3){D.after(aO).hide()}else{var bb=a7.appendTo==="parent"?D.parent():e(a7.appendTo);if(bb.length!==1){bb=e("body")}bb.append(aO)}aR();aw.bind("click.spectrum touchstart.spectrum",function(bd){if(!aW){ax()}bd.stopPropagation();if(!e(bd.target).is("input")){bd.preventDefault()}});if(D.is(":disabled")||(a7.disabled===true)){U()}aO.click(j);K.change(aS);K.bind("paste",function(){setTimeout(aS,1)});K.keydown(function(bd){if(bd.keyCode==13){aS()}});aq.text(a7.cancelText);aq.bind("click.spectrum",function(bd){bd.stopPropagation();bd.preventDefault();av();aG()});an.attr("title",a7.clearText);an.bind("click.spectrum",function(bd){bd.stopPropagation();bd.preventDefault();C=true;aK();if(a3){ao(true)}});H.text(a7.chooseText);H.bind("click.spectrum",function(bd){bd.stopPropagation();bd.preventDefault();if(h&&K.is(":focus")){K.trigger("change")}if(aA()){ao(true);aG()}});aQ.text(a7.showPaletteOnly?a7.togglePaletteMoreText:a7.togglePaletteLessText);aQ.bind("click.spectrum",function(bd){bd.stopPropagation();bd.preventDefault();a7.showPaletteOnly=!a7.showPaletteOnly;if(!a7.showPaletteOnly&&!a3){aO.css("left","-="+(u.outerWidth(true)+5))}v()});c(Z,function(bf,be,bd){aZ=(bf/ay);C=false;if(bd.shiftKey){aZ=Math.round(aZ*10)/10}aK()},A,a9);c(M,function(be,bd){Y=parseFloat(bd/az);C=false;if(!a7.showAlpha){aZ=1}aK()},A,a9);c(I,function(bk,bi,bh){if(!bh.shiftKey){G=null}else{if(!G){var bf=P*aM;var bd=af-(aC*af);var be=Math.abs(bk-bf)>Math.abs(bi-bd);G=be?"x":"y"}}var bg=!G||G==="x";var bj=!G||G==="y";if(bg){P=parseFloat(bk/aM)}if(bj){aC=parseFloat((af-bi)/af)}C=false;if(!a7.showAlpha){aZ=1}aK()},A,a9);if(!!T){ac(T);aD();au=V||tinycolor(T).format;aV(T)}else{aD()}if(a3){z()}function bc(bd){if(bd.data&&bd.data.ignore){ac(e(bd.target).closest(".sp-thumb-el").data("color"));aK()}else{ac(e(bd.target).closest(".sp-thumb-el").data("color"));aK();ao(true);if(a7.hideAfterPaletteSelect){aG()}}return false}var ba=h?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Q.delegate(".sp-thumb-el",ba,bc);a6.delegate(".sp-thumb-el:nth-child(1)",ba,{ignore:true},bc)}function aR(){if(w&&window.localStorage){try{var ba=window.localStorage[w].split(",#");if(ba.length>1){delete window.localStorage[w];e.each(ba,function(bc,bd){aV(bd)})}}catch(bb){}try{aI=window.localStorage[w].split(";")}catch(bb){}}}function aV(ba){if(W){var bb=tinycolor(ba).toRgbString();if(!a5[bb]&&e.inArray(bb,aI)===-1){aI.push(bb);while(aI.length>aH){aI.shift()}}if(w&&window.localStorage){try{window.localStorage[w]=aI.join(";")}catch(bc){}}}}function aX(){var bc=[];if(a7.showPalette){for(var bb=0;bb<aI.length;bb++){var ba=tinycolor(aI[bb]).toRgbString();if(!a5[ba]){bc.push(aI[bb])}}}return bc.reverse().slice(0,a7.maxSelectionSize)}function a0(){var ba=aT();var bb=e.map(al,function(bc,bd){return s(bc,ba,"sp-palette-row sp-palette-row-"+bd,a7)});aR();if(aI){bb.push(s(aX(),ba,"sp-palette-row sp-palette-row-selection",a7))}Q.html(bb.join(""))}function at(){if(a7.showInitial){var ba=aP;var bb=aT();a6.html(s([ba,bb],bb,"sp-palette-row-initial",a7))}}function A(){if(af<=0||aM<=0||az<=0){ad()}ap=true;aO.addClass(x);G=null;D.trigger("dragstart.spectrum",[aT()])}function a9(){ap=false;aO.removeClass(x);D.trigger("dragstop.spectrum",[aT()])}function aS(){var bb=K.val();if((bb===null||bb==="")&&a4){ac(null);ao(true)}else{var ba=tinycolor(bb);if(ba.isValid()){ac(ba);ao(true)}else{K.addClass("sp-validation-error")}}}function ax(){if(O){aG()}else{z()}}function z(){var ba=e.Event("beforeShow.spectrum");if(O){ad();return}D.trigger(ba,[aT()]);if(R.beforeShow(aT())===false||ba.isDefaultPrevented()){return}o();O=true;e(X).bind("keydown.spectrum",aj);e(X).bind("click.spectrum",ab);e(window).bind("resize.spectrum",E);aU.addClass("sp-active");aO.removeClass("sp-hidden");ad();aD();aP=aT();at();R.show(aP);D.trigger("show.spectrum",[aP])}function aj(ba){if(ba.keyCode===27){aG()}}function ab(ba){if(ba.button==2){return}if(ap){return}if(F){ao(true)}else{av()}aG()}function aG(){if(!O||a3){return}O=false;e(X).unbind("keydown.spectrum",aj);e(X).unbind("click.spectrum",ab);e(window).unbind("resize.spectrum",E);aU.removeClass("sp-active");aO.addClass("sp-hidden");R.hide(aT());D.trigger("hide.spectrum",[aT()])}function av(){ac(aP,true)}function ac(ba,bc){if(tinycolor.equals(ba,aT())){aD();return}var bb,bd;if(!ba&&a4){C=true}else{C=false;bb=tinycolor(ba);bd=bb.toHsv();Y=(bd.h%360)/360;P=bd.s;aC=bd.v;aZ=bd.a}aD();if(bb&&bb.isValid()&&!bc){au=V||bb.getFormat()}}function aT(ba){ba=ba||{};if(a4&&C){return null}return tinycolor.fromRatio({h:Y,s:P,v:aC,a:Math.round(aZ*100)/100},{format:ba.format||au})}function aA(){return !K.hasClass("sp-validation-error")}function aK(){aD();R.move(aT());D.trigger("move.spectrum",[aT()])}function aD(){K.removeClass("sp-validation-error");a1();var bc=tinycolor.fromRatio({h:Y,s:1,v:1});I.css("background-color",bc.toHexString());var bh=au;if(aZ<1&&!(aZ===0&&bh==="name")){if(bh==="hex"||bh==="hex3"||bh==="hex6"||bh==="name"){bh="rgb"}}var ba=aT({format:bh}),bd="";J.removeClass("sp-clear-display");J.css("background-color","transparent");if(!ba&&a4){J.addClass("sp-clear-display")}else{var be=ba.toHexString(),bi=ba.toRgbString();if(l||ba.alpha===1){J.css("background-color",bi)}else{J.css("background-color","transparent");J.css("filter",ba.toFilter())}if(a7.showAlpha){var bf=ba.toRgb();bf.a=0;var bb=tinycolor(bf).toRgbString();var bg="linear-gradient(left, "+bb+", "+be+")";if(h){aE.css("filter",tinycolor(bb).toFilter({gradientType:1},be))}else{aE.css("background","-webkit-"+bg);aE.css("background","-moz-"+bg);aE.css("background","-ms-"+bg);aE.css("background","linear-gradient(to right, "+bb+", "+be+")")}}bd=ba.toString(bh)}if(a7.showInput){K.val(bd)}if(a7.showPalette){a0()}at()}function a1(){var bc=P;var ba=aC;if(a4&&C){aF.hide();a2.hide();aL.hide()}else{aF.show();a2.show();aL.show();var bf=bc*aM;var bd=af-(ba*af);bf=Math.max(-aN,Math.min(aM-aN,bf-aN));bd=Math.max(-aN,Math.min(af-aN,bd-aN));aL.css({top:bd+"px",left:bf+"px"});var bb=aZ*ay;aF.css({left:(bb-(aY/2))+"px"});var be=(Y)*az;a2.css({top:(be-ar)+"px"})}}function ao(bb){var ba=aT(),bd="",bc=!tinycolor.equals(ba,aP);if(ba){bd=ba.toString(au);aV(ba)}if(S){D.val(bd)}if(bb&&bc){R.change(ba);D.trigger("change",[ba])}}function ad(){aM=I.width();af=I.height();aN=aL.height();L=M.width();az=M.height();ar=a2.height();ay=Z.width();aY=aF.width();if(!a3){aO.css("position","absolute");if(a7.offset){aO.offset(a7.offset)}else{aO.offset(a(aO,aw))}}a1();if(a7.showPalette){a0()}D.trigger("reflow.spectrum")}function y(){D.show();aw.unbind("click.spectrum touchstart.spectrum");aO.remove();aU.remove();d[ae.id]=null}function aa(ba,bb){if(ba===g){return e.extend({},a7)}if(bb===g){return a7[ba]}a7[ba]=bb;v()}function ag(){aW=false;D.attr("disabled",false);aw.removeClass("sp-disabled")}function U(){aG();aW=true;D.attr("disabled",true);aw.addClass("sp-disabled")}function am(ba){a7.offset=ba;ad()}aJ();var ae={show:z,hide:aG,toggle:ax,reflow:ad,option:aa,enable:ag,disable:U,offset:am,set:function(ba){ac(ba);ao()},get:aT,destroy:y,container:aO};ae.id=d.push(ae)-1;return ae}function a(B,C){var A=0;var y=B.outerWidth();var E=B.outerHeight();var u=C.outerHeight();var D=B[0].ownerDocument;var v=D.documentElement;var z=v.clientWidth+e(D).scrollLeft();var w=v.clientHeight+e(D).scrollTop();var x=C.offset();x.top+=u;x.left-=Math.min(x.left,(x.left+y>z&&z>y)?Math.abs(x.left+y-z):0);x.top-=Math.min(x.top,((x.top+E>w&&w>E)?Math.abs(E+u-A):A));return x}function b(){}function j(u){u.stopPropagation()}function t(v,w){var x=Array.prototype.slice;var u=x.call(arguments,2);return function(){return v.apply(w,u.concat(x.call(arguments)))}}function c(z,E,v,w){E=E||function(){};v=v||function(){};w=w||function(){};var F=document;var H=false;var y={};var I=0;var G=0;var B=("ontouchstart" in window);var A={};A.selectstart=D;A.dragstart=D;A["touchmove mousemove"]=x;A["touchend mouseup"]=C;function D(J){if(J.stopPropagation){J.stopPropagation()}if(J.preventDefault){J.preventDefault()}J.returnValue=false}function x(N){if(H){if(h&&F.documentMode<9&&!N.button){return C()}var L=N.originalEvent&&N.originalEvent.touches&&N.originalEvent.touches[0];var K=L&&L.pageX||N.pageX;var J=L&&L.pageY||N.pageY;var O=Math.max(0,Math.min(K-y.left,G));var M=Math.max(0,Math.min(J-y.top,I));if(B){D(N)}E.apply(z,[O,M,N])}}function u(K){var J=(K.which)?(K.which==3):(K.button==2);if(!J&&!H){if(v.apply(z,arguments)!==false){H=true;I=e(z).height();G=e(z).width();y=e(z).offset();e(F).bind(A);e(F.body).addClass("sp-dragging");x(K);D(K)}}}function C(){if(H){e(F).unbind(A);e(F.body).removeClass("sp-dragging");setTimeout(function(){w.apply(z,arguments)},0)}H=false}e(z).bind("touchstart mousedown",u)}function f(v,x,u){var w;return function(){var z=this,y=arguments;var A=function(){w=null;v.apply(z,y)};if(u){clearTimeout(w)}if(u||!w){w=setTimeout(A,x)}}}function k(){return e.fn.spectrum.inputTypeColorSupport()}var i="spectrum.id";e.fn.spectrum=function(x,u){if(typeof x=="string"){var w=this;var v=Array.prototype.slice.call(arguments,1);this.each(function(){var y=d[e(this).data(i)];if(y){var z=y[x];if(!z){throw new Error("Spectrum: no such method: '"+x+"'")}if(x=="get"){w=y.get()}else{if(x=="container"){w=y.container}else{if(x=="option"){w=y.option.apply(y,v)}else{if(x=="destroy"){y.destroy();e(this).removeData(i)}else{z.apply(y,v)}}}}}});return w}return this.spectrum("destroy").each(function(){var y=e.extend({},x,e(this).data());var z=r(this,y);e(this).data(i,z.id)})};e.fn.spectrum.load=true;e.fn.spectrum.loadOpts={};e.fn.spectrum.draggable=c;e.fn.spectrum.defaults=m;e.fn.spectrum.inputTypeColorSupport=function k(){if(typeof k._cachedResult==="undefined"){var u=e("<input type='color'/>")[0];k._cachedResult=u.type==="color"&&u.value!==""}return k._cachedResult};e.spectrum={};e.spectrum.localization={};e.spectrum.palettes={};e.fn.spectrum.processNativeColorInputs=function(){var u=e("input[type=color]");if(u.length&&!k()){u.spectrum({preferredFormat:"hex6"})}};(function(){var Y=/^[\s,#]+/,K=/\s+$/,ad=0,P=Math,T=P.round,ak=P.min,M=P.max,D=P.random;var af=function(an,ap){an=(an)?an:"";ap=ap||{};if(an instanceof af){return an}if(!(this instanceof af)){return new af(an,ap)}var ao=ac(an);this._originalInput=an,this._r=ao.r,this._g=ao.g,this._b=ao.b,this._a=ao.a,this._roundA=T(100*this._a)/100,this._format=ap.format||ao.format;this._gradientType=ap.gradientType;if(this._r<1){this._r=T(this._r)}if(this._g<1){this._g=T(this._g)}if(this._b<1){this._b=T(this._b)}this._ok=ao.ok;this._tc_id=ad++};af.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return !this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var an=this.toRgb();return(an.r*299+an.g*587+an.b*114)/1000},setAlpha:function(an){this._a=E(an);this._roundA=T(100*this._a)/100;return this},toHsv:function(){var an=B(this._r,this._g,this._b);return{h:an.h*360,s:an.s,v:an.v,a:this._a}},toHsvString:function(){var ao=B(this._r,this._g,this._b);var aq=T(ao.h*360),ap=T(ao.s*100),an=T(ao.v*100);return(this._a==1)?"hsv("+aq+", "+ap+"%, "+an+"%)":"hsva("+aq+", "+ap+"%, "+an+"%, "+this._roundA+")"},toHsl:function(){var an=G(this._r,this._g,this._b);return{h:an.h*360,s:an.s,l:an.l,a:this._a}},toHslString:function(){var ao=G(this._r,this._g,this._b);var aq=T(ao.h*360),ap=T(ao.s*100),an=T(ao.l*100);return(this._a==1)?"hsl("+aq+", "+ap+"%, "+an+"%)":"hsla("+aq+", "+ap+"%, "+an+"%, "+this._roundA+")"},toHex:function(an){return ab(this._r,this._g,this._b,an)},toHexString:function(an){return"#"+this.toHex(an)},toHex8:function(){return al(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:T(this._r),g:T(this._g),b:T(this._b),a:this._a}},toRgbString:function(){return(this._a==1)?"rgb("+T(this._r)+", "+T(this._g)+", "+T(this._b)+")":"rgba("+T(this._r)+", "+T(this._g)+", "+T(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:T(ag(this._r,255)*100)+"%",g:T(ag(this._g,255)*100)+"%",b:T(ag(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return(this._a==1)?"rgb("+T(ag(this._r,255)*100)+"%, "+T(ag(this._g,255)*100)+"%, "+T(ag(this._b,255)*100)+"%)":"rgba("+T(ag(this._r,255)*100)+"%, "+T(ag(this._g,255)*100)+"%, "+T(ag(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){if(this._a===0){return"transparent"}if(this._a<1){return false}return am[ab(this._r,this._g,this._b,true)]||false},toFilter:function(aq){var ar="#"+al(this._r,this._g,this._b,this._a);var ao=ar;var an=this._gradientType?"GradientType = 1, ":"";if(aq){var ap=af(aq);ao=ap.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+an+"startColorstr="+ar+",endColorstr="+ao+")"},toString:function(aq){var an=!!aq;aq=aq||this._format;var ap=false;var ao=this._a<1&&this._a>=0;var ar=!an&&ao&&(aq==="hex"||aq==="hex6"||aq==="hex3"||aq==="name");if(ar){if(aq==="name"&&this._a===0){return this.toName()}return this.toRgbString()}if(aq==="rgb"){ap=this.toRgbString()}if(aq==="prgb"){ap=this.toPercentageRgbString()}if(aq==="hex"||aq==="hex6"){ap=this.toHexString()}if(aq==="hex3"){ap=this.toHexString(true)}if(aq==="hex8"){ap=this.toHex8String()}if(aq==="name"){ap=this.toName()}if(aq==="hsl"){ap=this.toHslString()}if(aq==="hsv"){ap=this.toHsvString()}return ap||this.toHexString()},_applyModification:function(ap,ao){var an=ap.apply(null,[this].concat([].slice.call(ao)));this._r=an._r;this._g=an._g;this._b=an._b;this.setAlpha(an._a);return this},lighten:function(){return this._applyModification(J,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(I,arguments)},desaturate:function(){return this._applyModification(O,arguments)},saturate:function(){return this._applyModification(Z,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(ae,arguments)},_applyCombination:function(ao,an){return ao.apply(null,[this].concat([].slice.call(an)))},analogous:function(){return this._applyCombination(R,arguments)},complement:function(){return this._applyCombination(W,arguments)},monochromatic:function(){return this._applyCombination(L,arguments)},splitcomplement:function(){return this._applyCombination(U,arguments)},triad:function(){return this._applyCombination(z,arguments)},tetrad:function(){return this._applyCombination(aj,arguments)}};af.fromRatio=function(an,aq){if(typeof an=="object"){var ao={};for(var ap in an){if(an.hasOwnProperty(ap)){if(ap==="a"){ao[ap]=an[ap]}else{ao[ap]=H(an[ap])}}}an=ao}return af(an,aq)};function ac(ao){var ap={r:0,g:0,b:0};var an=1;var aq=false;var ar=false;if(typeof ao=="string"){ao=N(ao)}if(typeof ao=="object"){if(ao.hasOwnProperty("r")&&ao.hasOwnProperty("g")&&ao.hasOwnProperty("b")){ap=A(ao.r,ao.g,ao.b);aq=true;ar=String(ao.r).substr(-1)==="%"?"prgb":"rgb"}else{if(ao.hasOwnProperty("h")&&ao.hasOwnProperty("s")&&ao.hasOwnProperty("v")){ao.s=H(ao.s);ao.v=H(ao.v);ap=aa(ao.h,ao.s,ao.v);aq=true;ar="hsv"}else{if(ao.hasOwnProperty("h")&&ao.hasOwnProperty("s")&&ao.hasOwnProperty("l")){ao.s=H(ao.s);ao.l=H(ao.l);ap=S(ao.h,ao.s,ao.l);aq=true;ar="hsl"}}}if(ao.hasOwnProperty("a")){an=ao.a}}an=E(an);return{ok:aq,format:ao.format||ar,r:ak(255,M(ap.r,0)),g:ak(255,M(ap.g,0)),b:ak(255,M(ap.b,0)),a:an}}function A(ap,ao,an){return{r:ag(ap,255)*255,g:ag(ao,255)*255,b:ag(an,255)*255}}function G(an,ar,au){an=ag(an,255);ar=ag(ar,255);au=ag(au,255);var av=M(an,ar,au),ap=ak(an,ar,au);var aq,aw,ao=(av+ap)/2;if(av==ap){aq=aw=0}else{var at=av-ap;aw=ao>0.5?at/(2-av-ap):at/(av+ap);switch(av){case an:aq=(ar-au)/at+(ar<au?6:0);break;case ar:aq=(au-an)/at+2;break;case au:aq=(an-ar)/at+4;break}aq/=6}return{h:aq,s:aw,l:ao}}function S(at,aw,ar){var an,au,av;at=ag(at,360);aw=ag(aw,100);ar=ag(ar,100);function aq(az,ay,ax){if(ax<0){ax+=1}if(ax>1){ax-=1}if(ax<1/6){return az+(ay-az)*6*ax}if(ax<1/2){return ay}if(ax<2/3){return az+(ay-az)*(2/3-ax)*6}return az}if(aw===0){an=au=av=ar}else{var ao=ar<0.5?ar*(1+aw):ar+aw-ar*aw;var ap=2*ar-ao;an=aq(ap,ao,at+1/3);au=aq(ap,ao,at);av=aq(ap,ao,at-1/3)}return{r:an*255,g:au*255,b:av*255}}function B(an,aq,at){an=ag(an,255);aq=ag(aq,255);at=ag(at,255);var au=M(an,aq,at),ao=ak(an,aq,at);var ap,aw,av=au;var ar=au-ao;aw=au===0?0:ar/au;if(au==ao){ap=0}else{switch(au){case an:ap=(aq-at)/ar+(aq<at?6:0);break;case aq:ap=(at-an)/ar+2;break;case at:ap=(an-aq)/ar+4;break}ap/=6}return{h:ap,s:aw,v:av}}function aa(ar,az,ax){ar=ag(ar,360)*6;az=ag(az,100);ax=ag(ax,100);var aq=P.floor(ar),au=ar-aq,ap=ax*(1-az),ao=ax*(1-au*az),ay=ax*(1-(1-au)*az),aw=aq%6,an=[ax,ao,ap,ap,ay,ax][aw],at=[ay,ax,ax,ao,ap,ap][aw],av=[ap,ap,ay,ax,ax,ao][aw];return{r:an*255,g:at*255,b:av*255}}function ab(aq,ap,an,ar){var ao=[Q(T(aq).toString(16)),Q(T(ap).toString(16)),Q(T(an).toString(16))];if(ar&&ao[0].charAt(0)==ao[0].charAt(1)&&ao[1].charAt(0)==ao[1].charAt(1)&&ao[2].charAt(0)==ao[2].charAt(1)){return ao[0].charAt(0)+ao[1].charAt(0)+ao[2].charAt(0)}return ao.join("")}function al(ar,aq,an,ao){var ap=[Q(V(ao)),Q(T(ar).toString(16)),Q(T(aq).toString(16)),Q(T(an).toString(16))];return ap.join("")}af.equals=function(ao,an){if(!ao||!an){return false}return af(ao).toRgbString()==af(an).toRgbString()};af.random=function(){return af.fromRatio({r:D(),g:D(),b:D()})};function O(ao,ap){ap=(ap===0)?0:(ap||10);var an=af(ao).toHsl();an.s-=ap/100;an.s=u(an.s);return af(an)}function Z(ao,ap){ap=(ap===0)?0:(ap||10);var an=af(ao).toHsl();an.s+=ap/100;an.s=u(an.s);return af(an)}function y(an){return af(an).desaturate(100)}function J(ao,ap){ap=(ap===0)?0:(ap||10);var an=af(ao).toHsl();an.l+=ap/100;an.l=u(an.l);return af(an)}function v(an,ap){ap=(ap===0)?0:(ap||10);var ao=af(an).toRgb();ao.r=M(0,ak(255,ao.r-T(255*-(ap/100))));ao.g=M(0,ak(255,ao.g-T(255*-(ap/100))));ao.b=M(0,ak(255,ao.b-T(255*-(ap/100))));return af(ao)}function I(ao,ap){ap=(ap===0)?0:(ap||10);var an=af(ao).toHsl();an.l-=ap/100;an.l=u(an.l);return af(an)}function ae(ap,aq){var ao=af(ap).toHsl();var an=(T(ao.h)+aq)%360;ao.h=an<0?360+an:an;return af(ao)}function W(ao){var an=af(ao).toHsl();an.h=(an.h+180)%360;return af(an)}function z(ao){var an=af(ao).toHsl();var ap=an.h;return[af(ao),af({h:(ap+120)%360,s:an.s,l:an.l}),af({h:(ap+240)%360,s:an.s,l:an.l})]}function aj(ao){var an=af(ao).toHsl();var ap=an.h;return[af(ao),af({h:(ap+90)%360,s:an.s,l:an.l}),af({h:(ap+180)%360,s:an.s,l:an.l}),af({h:(ap+270)%360,s:an.s,l:an.l})]}function U(ao){var an=af(ao).toHsl();var ap=an.h;return[af(ao),af({h:(ap+72)%360,s:an.s,l:an.l}),af({h:(ap+216)%360,s:an.s,l:an.l})]}function R(ao,ar,at){ar=ar||6;at=at||30;var an=af(ao).toHsl();var aq=360/at;var ap=[af(ao)];for(an.h=((an.h-(aq*ar>>1))+720)%360;--ar;){an.h=(an.h+aq)%360;ap.push(af(an))}return ap}function L(ap,at){at=at||6;var ar=af(ap).toHsv();var av=ar.h,au=ar.s,ao=ar.v;var aq=[];var an=1/at;while(at--){aq.push(af({h:av,s:au,v:ao}));ao=(ao+an)%1}return aq}af.mix=function(ay,ax,au){au=(au===0)?0:(au||50);var ar=af(ay).toRgb();var ap=af(ax).toRgb();var an=au/100;var aw=an*2-1;var av=ap.a-ar.a;var at;if(aw*av==-1){at=aw}else{at=(aw+av)/(1+aw*av)}at=(at+1)/2;var aq=1-at;var ao={r:ap.r*at+ar.r*aq,g:ap.g*at+ar.g*aq,b:ap.b*at+ar.b*aq,a:ap.a*an+ar.a*(1-an)};return af(ao)};af.readability=function(aw,av){var ar=af(aw);var ap=af(av);var aq=ar.toRgb();var ao=ap.toRgb();var at=ar.getBrightness();var an=ap.getBrightness();var au=(Math.max(aq.r,ao.r)-Math.min(aq.r,ao.r)+Math.max(aq.g,ao.g)-Math.min(aq.g,ao.g)+Math.max(aq.b,ao.b)-Math.min(aq.b,ao.b));return{brightness:Math.abs(at-an),color:au}};af.isReadable=function(ao,an){var ap=af.readability(ao,an);return ap.brightness>125&&ap.color>500};af.mostReadable=function(av,au){var aq=null;var ao=0;var aw=false;for(var at=0;at<au.length;at++){var ap=af.readability(av,au[at]);var ar=ap.brightness>125&&ap.color>500;var an=3*(ap.brightness/125)+(ap.color/500);if((ar&&!aw)||(ar&&aw&&an>ao)||((!ar)&&(!aw)&&an>ao)){aw=ar;ao=an;aq=af(au[at])}}return aq};var ah=af.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var am=af.hexNames=ai(ah);function ai(ap){var ao={};for(var an in ap){if(ap.hasOwnProperty(an)){ao[ap[an]]=an}}return ao}function E(an){an=parseFloat(an);if(isNaN(an)||an<0||an>1){an=1}return an}function ag(ap,an){if(X(ap)){ap="100%"}var ao=F(ap);ap=ak(an,M(0,parseFloat(ap)));if(ao){ap=parseInt(ap*an,10)/100}if((P.abs(ap-an)<0.000001)){return 1}return(ap%an)/parseFloat(an)}function u(an){return ak(1,M(0,an))}function w(an){return parseInt(an,16)}function X(an){return typeof an=="string"&&an.indexOf(".")!=-1&&parseFloat(an)===1}function F(an){return typeof an==="string"&&an.indexOf("%")!=-1}function Q(an){return an.length==1?"0"+an:""+an}function H(an){if(an<=1){an=(an*100)+"%"}return an}function V(an){return Math.round(parseFloat(an)*255).toString(16)}function C(an){return(w(an)/255)}var x=(function(){var ar="[-\\+]?\\d+%?";var aq="[-\\+]?\\d*\\.\\d+%?";var an="(?:"+aq+")|(?:"+ar+")";var ap="[\\s|\\(]+("+an+")[,|\\s]+("+an+")[,|\\s]+("+an+")\\s*\\)?";var ao="[\\s|\\(]+("+an+")[,|\\s]+("+an+")[,|\\s]+("+an+")[,|\\s]+("+an+")\\s*\\)?";return{rgb:new RegExp("rgb"+ap),rgba:new RegExp("rgba"+ao),hsl:new RegExp("hsl"+ap),hsla:new RegExp("hsla"+ao),hsv:new RegExp("hsv"+ap),hsva:new RegExp("hsva"+ao),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function N(ao){ao=ao.replace(Y,"").replace(K,"").toLowerCase();var an=false;if(ah[ao]){ao=ah[ao];an=true}else{if(ao=="transparent"){return{r:0,g:0,b:0,a:0,format:"name"}}}var ap;if((ap=x.rgb.exec(ao))){return{r:ap[1],g:ap[2],b:ap[3]}}if((ap=x.rgba.exec(ao))){return{r:ap[1],g:ap[2],b:ap[3],a:ap[4]}}if((ap=x.hsl.exec(ao))){return{h:ap[1],s:ap[2],l:ap[3]}}if((ap=x.hsla.exec(ao))){return{h:ap[1],s:ap[2],l:ap[3],a:ap[4]}}if((ap=x.hsv.exec(ao))){return{h:ap[1],s:ap[2],v:ap[3]}}if((ap=x.hsva.exec(ao))){return{h:ap[1],s:ap[2],v:ap[3],a:ap[4]}}if((ap=x.hex8.exec(ao))){return{a:C(ap[1]),r:w(ap[2]),g:w(ap[3]),b:w(ap[4]),format:an?"name":"hex8"}}if((ap=x.hex6.exec(ao))){return{r:w(ap[1]),g:w(ap[2]),b:w(ap[3]),format:an?"name":"hex"}}if((ap=x.hex3.exec(ao))){return{r:w(ap[1]+""+ap[1]),g:w(ap[2]+""+ap[2]),b:w(ap[3]+""+ap[3]),format:an?"name":"hex"}}return false}window.tinycolor=af})();e(function(){if(e.fn.spectrum.load){e.fn.spectrum.processNativeColorInputs()}})});function shadeColor(a,f){var e=parseInt(a.substring(1,3),16);var d=parseInt(a.substring(3,5),16);var h=parseInt(a.substring(5,7),16);e=parseInt(e*(100+f)/100);d=parseInt(d*(100+f)/100);h=parseInt(h*(100+f)/100);e=(e<255)?e:255;d=(d<255)?d:255;h=(h<255)?h:255;var c=((e.toString(16).length==1)?"0"+e.toString(16):e.toString(16));var b=((d.toString(16).length==1)?"0"+d.toString(16):d.toString(16));var g=((h.toString(16).length==1)?"0"+h.toString(16):h.toString(16));return"#"+c+b+g}jQuery(function(){var h=function(){jQuery(".svs_pt_edit").steps({headerTag:"h3",bodyTag:"section",transitionEffect:"slideLeft",autoFocus:true,onStepChanging:function(k,i,j){if(i===0){jQuery(".svs_price_plan .icon-settings").unbind("click");jQuery('link[rel=stylesheet][href^="'+SVSPricingTables.plugin_url+'templates/"]').remove();jQuery("<link>").appendTo("head").attr({type:"text/css",rel:"stylesheet"}).attr("href",SVSPricingTables.plugin_url+"templates/"+jQuery(".svs_pt_edit_design_options").val()+"/svs_"+jQuery(".svs_pt_edit_design_options").val()+".css");jQuery.getScript(SVSPricingTables.plugin_url+"templates/"+jQuery(".svs_pt_edit_design_options").val()+"/svs_"+jQuery(".svs_pt_edit_design_options").val()+".js",function(){jQuery(".svs_pt_column_size select").val(jQuery(".svs_price_plan").css("width"))});try{jQuery(".svs_price_plan img").attr("src",jQuery(".svs_price_plan img").attr("src").replace(/t[0-9]{2}/,jQuery(".svs_pt_edit_design_options").val()))}catch(l){}}return true},onFinishing:function(){var j=jQuery("#svs_price_plans")[0].outerHTML;var i=prompt("Pricing Table Name",SVSPricingTables.name||"New Pricing Table");if(i!=null){jQuery(".svs_new_plan").remove();jQuery(".svs_icon").remove();jQuery(".svs_pt_editable_text").removeAttr("title");jQuery.ajax("admin.php?page=svs_pricing_tables&Action=pricingTableSave",{data:{name:i,template:jQuery(".svs_pt_edit_design_options").val(),htmlAdmin:jQuery.base64.encode(j),html:jQuery.base64.encode(jQuery("#svs_price_plans")[0].outerHTML),ID:SVSPricingTables.ID},method:"POST",complete:function(){jQuery(".svs_pt_wrapper").unmask();window.location.href="admin.php?page=svs_pricing_tables"}});jQuery(".svs_pt_wrapper").mask("Saving ...")}return true}})};var c=function(){jQuery(".svs_pt_edit_design_options").imagepicker()};var a=function(){jQuery(".svs_pt_builder_options_available ol").sortable({handle:"i.icon-move",group:"svs_builder",drop:false,onDragStart:function(j,i,k){if(!i.options.drop){j.clone().insertAfter(j)}jQuery(".svs_price_plan").css("overflow","initial");k(j,i)},onDrop:function(j,i,l,k){jQuery(".svs_price_plan").css("overflow","");d();f();l(j,i)}})};var g=function(){jQuery(".svs_pt_builder_workarea ol").sortable({handle:"i.icon-move",group:"svs_builder"});jQuery("ol.svs_new_plan").sortable("disable");jQuery(".svs_price_plan .icon-featured").unbind("click").bind("click",function(){jQuery(this).parent().toggleClass("svs_price_plan_featured");jQuery(".svs_price_plan").not(jQuery(this).closest(".svs_price_plan")).removeClass("svs_price_plan_featured")});jQuery(".svs_button .icon-link").unbind("click").bind("click",function(){var i=prompt("Redirection link","http://");if(i!=null){jQuery(this).next().attr("href",i)}});jQuery(".svs_pt_column_size select").change(function(){jQuery(".svs_price_plan").css("width",jQuery(".svs_pt_column_size select").val())});f();e()};var d=function(){jQuery(".svs_pt_builder_workarea .svs_pt_editable_text").editable(function(i){return i},{cancel:"Cancel",submit:"OK",tooltip:"Click to edit..."});jQuery(".svs_pt_builder_workarea .svs_pt_editable_text").click(function(){jQuery(".svs_pt_builder_workarea .svs_pt_editable_text input").select()});jQuery(".svs_pt_builder_workarea .svs_pt_editable_yes_no").editable(function(i){return i},{cancel:"Cancel",submit:"OK",tooltip:"Click to edit...",type:"select",data:function(){var i={};i['<img src="'+SVSPricingTables.plugin_url+"templates/"+jQuery(".svs_pt_edit_design_options").val()+'/images/yes.png"/>']="Yes";i['<img src="'+SVSPricingTables.plugin_url+"templates/"+jQuery(".svs_pt_edit_design_options").val()+'/images/no.png"/>']="No";return i}});jQuery.each(jQuery(".svs_pt_builder_workarea .svs_pt_editable_yes_no"),function(i,j){if(jQuery(j).html()=="Yes/No"){jQuery(j).html('<img src="'+SVSPricingTables.plugin_url+"templates/"+jQuery(".svs_pt_edit_design_options").val()+'/images/yes.png"/>')}})};var f=function(){jQuery(".svs_price_plan .icon-trash-option").unbind("click").bind("click",function(){jQuery(this).closest("li").remove()})};var e=function(){jQuery(".svs_price_plan .icon-trash-plan").unbind("click").bind("click",function(){if(confirm("Are you sure?")){jQuery(this).closest(".svs_price_plan").remove()}})};var b=function(){jQuery(".svs_new_plan").unbind("click").bind("click",function(){if(jQuery(".svs_price_plan").size()>2){alert("Free version limited to 3 columns!");return false}jQuery(".svs_price_plan").first().clone().insertBefore(jQuery(this));g();d();f();e()})};h();c();a();g();d();b()});